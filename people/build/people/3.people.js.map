{"version":3,"sources":["webpack://people/./src/people-page/people-page.krem.css","webpack://people/./src/people-list/people-list.krem.css","webpack://people/./src/people-page/selected-person/selected-person.krem.css","webpack://people/./src/films/films.krem.css","webpack://people/./src/people-list/people-list.component.js","webpack://people/./src/people-page/selected-person/homeworld.component.js","webpack://people/./src/utils/api.js","webpack://people/./src/films/film.helpers.js","webpack://people/./src/films/film.component.js","webpack://people/./src/films/films.component.js","webpack://people/./src/people-page/selected-person/selected-person.component.js","webpack://people/./src/people-page/people-page.component.js"],"names":["module","exports","styles","id","namespace","PeopleList","withRouter","evt","index","key","_this","props","selectPerson","React","Component","_this2","this","_this$props","people","loadingPeople","external_react_default","a","createElement","kremling","postcss","className","external_react_","map","person","Link","name","to","concat","match","path","window","encodeURIComponent","flatMap","operators","tap","Homeworld","AsyncDecorator","homeworld","undefined","error","cancelWhenUnmounted","stream","pipe","setState","homeworldUrl","fetchWithCache","getPlanet","subscribe","planet","err","console","_this$state","state","imageMap","1","2","3","4","5","6","7","8","Film","showOverlay","film","onMouseEnter","mouseOn","onMouseLeave","mouseOut","tabIndex","src","episode_id","alt","title","director","release_date","producer","mergeMap","switchMap","Films","films","from","filmId","getFilm","prev","_toConsumableArray","length","film_component_Film","SelectedPerson","heightInCm","selectedPerson","formatHeight","height","mass","hair_color","gender","birth_year","homeworld_component_Homeworld","films_component_Films","PeoplePage","pageNum","nextPage","search","location","parsed","queryString","parse","selected","found","find","arrayIndex","fetchPeople","arguments","getPeople","results","people_page_component_toConsumableArray","next","selectPersonFromQueryParams","log","onClick","fetchMore","disabled","people_list_component_PeopleList","selected_person_component_SelectedPerson","prevProps","prevState"],"mappings":"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","file":"3.people.js","sourcesContent":["module.exports = { styles: '[people=\"2\"] .peoplePageContents,[people=\"2\"].peoplePageContents { display: flex; } [people=\"2\"] .listWrapper,[people=\"2\"].listWrapper { padding: 24px; width: 30%; } [people=\"2\"] .selectedWrapper,[people=\"2\"].selectedWrapper { width: 70%; border-left: 2px solid var(--white); padding: 24px; } [people=\"2\"] .peoplePage,[people=\"2\"].peoplePage { height: calc(100% - var(--navbar-height)); } ', id: '2', namespace: 'people' };","module.exports = { styles: '[people=\"1\"] .person,[people=\"1\"].person { height: 50px; display: flex; align-items: center; border-bottom: 1px solid var(--white); cursor: pointer; text-decoration: none; color: var(--white); } [people=\"1\"] .person:last-child,[people=\"1\"].person:last-child { border-bottom: none; } [people=\"1\"] .person:first-child,[people=\"1\"].person:first-child { border-top: 1px solid var(--white); } ', id: '1', namespace: 'people' };","module.exports = { styles: '[people=\"3\"] .personAttribute,[people=\"3\"].personAttribute { display: flex; } [people=\"3\"] .attributeTitle,[people=\"3\"].attributeTitle { font-weight: bold; padding-right: 16px; width: 150px; } ', id: '3', namespace: 'people' };","module.exports = { styles: '[people=\"4\"] .films,[people=\"4\"].films { display: flex; flex-wrap: wrap; } [people=\"4\"] .film,[people=\"4\"].film { width: 216px; height: 384px; margin: 0 8px; display: flex; align-items: center; justify-content: center; position: relative; } [people=\"4\"] .filmPoster,[people=\"4\"].filmPoster { max-width: 100%; max-height: 100%; } [people=\"4\"] .filmOverlay,[people=\"4\"].filmOverlay { position: absolute; display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; background-color: var(--white-overlay); border-radius: 25px; color: var(--black); } ', id: '4', namespace: 'people' };","import React, {Fragment} from 'react'\nimport { Scoped } from 'kremling'\nimport { getPeople } from '../utils/api.js'\nimport styles from './people-list.krem.css'\nimport { withRouter } from 'react-router'\nimport { Link } from 'react-router-dom'\n\n@withRouter\nexport default class PeopleList extends React.Component {\n\n  render () {\n    const { people, loadingPeople, selectPerson } = this.props\n    return (\n      <Scoped postcss={styles}>\n        <div className='peopleList'>\n          <Fragment>\n            {\n              people.map((person, index) => {\n                return (\n                  <Link\n                    key={person.name}\n                    className='person'\n                    to={`${this.props.match.path}?selected=${window.encodeURIComponent(person.id)}`}\n                  >\n                    {person.name}\n                  </Link>\n                )\n              })\n            }\n            {\n              loadingPeople && (\n                <div>\n                  Loading ...\n                </div>\n              )\n            }\n          </Fragment>\n        </div>\n      </Scoped>\n    )\n  }\n\n  onKeyPress = (evt, index) => {\n    if (evt.key === 'Enter' || evt.key === ' ') {\n      this.props.selectPerson(index)\n    }\n  }\n}\n","import React, {Fragment} from 'react'\nimport AsyncDecorator from 'async-decorator/rx6'\nimport { getPlanet } from '../../utils/api.js'\nimport { pipe, from, operators } from 'rxjs'\nconst { flatMap, tap } = operators\nimport { Link } from 'react-router-dom'\n\n@AsyncDecorator\nexport default class Homeworld extends React.Component {\n\n  state = {\n    homeworld: undefined,\n    error: false\n  }\n\n  componentDidMount() {\n    this.props.cancelWhenUnmounted(\n      this.props.stream(\n        props => props.homeworld\n      ).pipe(\n        tap(() => {\n          this.setState({homeworld: undefined})\n        }),\n        flatMap(\n          (homeworldUrl) => {\n            return getPlanet(homeworldUrl.match(/[0-9]+/))\n          }\n        )\n      ).subscribe(\n        (planet) => this.setState({homeworld: planet}),\n        (err) => this.setState({error: true}, () => {\n          console.error(err)\n        })\n      )\n    )\n  }\n\n  render () {\n    const { homeworld, error } = this.state\n    return (\n      <div className='homeworld'>\n        {\n          error && (\n            <div>\n              Error Loading\n            </div>\n          )\n        }\n        {\n          homeworld === undefined && !error && (\n            <div>\n              ... Loading\n            </div>\n          )\n        }\n        {\n          homeworld && (\n            <Link\n              className='brand-link'\n              to={`/planets/${homeworld.id}`}\n            >\n              {homeworld.name}\n            </Link>\n\n          )\n        }\n\n      </div>\n    )\n  }\n}\n","import fetchWithCache from '@portal/fetchWithCache'\n\nexport function getPeople(pageNum = 1) {\n  return fetchWithCache(`people/?page=${pageNum}`)\n}\n\nexport function getPlanet(id) {\n  return fetchWithCache(\n    `planets/${id}/`\n  )\n}\n\nexport function getFilm(filmId) {\n  return fetchWithCache(\n    `films/${filmId}`\n  )\n}\n\nexport function getFilms() {\n  return fetchWithCache(\n    `films`\n  )\n}\n","export const imageMap = {\n  1: 'https://m.media-amazon.com/images/M/MV5BYTRhNjcwNWQtMGJmMi00NmQyLWE2YzItODVmMTdjNWI0ZDA2XkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY999_SX666_AL_.jpg',\n  2: 'https://m.media-amazon.com/images/M/MV5BMDAzM2M0Y2UtZjRmZi00MzVlLTg4MjEtOTE3NzU5ZDVlMTU5XkEyXkFqcGdeQXVyNDUyOTg3Njg@._V1_SY999_CR0,0,659,999_AL_.jpg',\n  3: 'https://m.media-amazon.com/images/M/MV5BNTc4MTc3NTQ5OF5BMl5BanBnXkFtZTcwOTg0NjI4NA@@._V1_SY1000_SX750_AL_.jpg',\n  4: 'https://m.media-amazon.com/images/M/MV5BNzVlY2MwMjktM2E4OS00Y2Y3LWE3ZjctYzhkZGM3YzA1ZWM2XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg',\n  5: 'https://m.media-amazon.com/images/M/MV5BYmU1NDRjNDgtMzhiMi00NjZmLTg5NGItZDNiZjU5NTU4OTE0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,641,1000_AL_.jpg',\n  6: 'https://m.media-amazon.com/images/M/MV5BOWZlMjFiYzgtMTUzNC00Y2IzLTk1NTMtZmNhMTczNTk0ODk1XkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY999_CR0,0,644,999_AL_.jpg',\n  7: 'https://m.media-amazon.com/images/M/MV5BOTAzODEzNDAzMl5BMl5BanBnXkFtZTgwMDU1MTgzNzE@._V1_SY1000_CR0,0,677,1000_AL_.jpg',\n  8: 'https://m.media-amazon.com/images/M/MV5BMjQ1MzcxNjg4N15BMl5BanBnXkFtZTgwNzgwMjY4MzI@._V1_SY1000_CR0,0,675,1000_AL_.jpg'\n}\n","import React, {Fragment} from 'react'\nimport { imageMap } from './film.helpers.js'\n\nexport default class Film extends React.Component {\n\n  state = {\n    showOverlay: false\n  }\n\n  render () {\n    const { film } = this.props\n    return (\n      <div className='film'\n        onMouseEnter={this.mouseOn}\n        onMouseLeave={this.mouseOut}\n        tabIndex={0}\n      >\n        <img className='filmPoster' src={imageMap[film.episode_id]} alt={film.title} />\n        {\n          this.state.showOverlay && (\n            <div className='filmOverlay'>\n              <div>\n                <div>\n                  <div>\n                    Directed By\n                  </div>\n                  <div>\n                    {film.director}\n                  </div>\n                </div>\n                <div>\n                  <div>\n                    Released on\n                  </div>\n                  <div>\n                    { film.release_date }\n                  </div>\n                </div>\n                <div>\n                  <div>\n                    Produced by\n                  </div>\n                  <div>\n                    { film.producer }\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n\n  mouseOn = () => {\n    this.setState({showOverlay: true})\n  }\n\n  mouseOut = () => {\n    this.setState({showOverlay: false})\n  }\n}\n","import React, {Fragment} from 'react'\nimport AsyncDecorator from 'async-decorator/rx6'\nimport { Scoped } from 'kremling'\nimport { find } from 'lodash'\nimport { pipe, from, operators } from 'rxjs'\nconst { tap, mergeMap, switchMap } = operators\nimport styles from './films.krem.css'\nimport { getFilm } from '../utils/api.js'\nimport Film from './film.component.js'\n\n@AsyncDecorator\nexport default class Films extends React.Component {\n\n  state = {\n    films: [],\n    error: false\n  }\n\n  componentDidMount() {\n    this.props.cancelWhenUnmounted(\n      this.props.stream(\n        (props) => {\n          return props.films\n        }\n      )\n      .pipe(\n        switchMap(films => from(films)),\n        tap(() => this.setState({films: []})),\n        mergeMap(film => {\n          return getFilm(film.match(/[0-9]+/))\n        }),\n      ).subscribe(\n        (film) => {\n          this.setState(prev => {\n            const films = [...prev.films, film]\n            return {films}\n          })\n        },\n        (err) => this.setState({error: true})\n      )\n    )\n  }\n\n  render () {\n    const { films, error } = this.state\n    return (\n      <Scoped postcss={styles}>\n        <div className='films'>\n          {\n            error && (\n              <div>\n                Error\n              </div>\n            )\n          }\n          {\n            films.length !== this.props.films.length && !error && (\n              <div>\n                ... Loading\n              </div>\n            )\n          }\n          {\n            films.length === this.props.films.length && !error && (\n              <Fragment>\n                {\n                  films.map((film) => {\n                    return (\n                      <Film key={film.episode_id} film={film}/>\n                    )\n                  })\n                }\n              </Fragment>\n            )\n          }\n        </div>\n      </Scoped>\n    )\n  }\n}\n","import React, {Fragment} from 'react'\nimport { Scoped } from 'kremling'\nimport styles from './selected-person.krem.css'\nimport Homeworld from './homeworld.component.js'\nimport Films from '../../films/films.component.js'\n\nexport default class SelectedPerson extends React.Component {\n\n  render () {\n    const { selectedPerson } = this.props\n    return (\n      <Scoped postcss={styles}>\n        <div className='selectedPerson'>\n          {\n            selectedPerson !== undefined ? (\n              <div>\n                <div className='personName'>\n                  <div className='personAttribute'>\n                    <div className='attributeTitle'>\n                      Name\n                    </div>\n                    <div>\n                      {selectedPerson.name}\n                    </div>\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    height\n                  </div>\n                  <div>\n                    {this.formatHeight(selectedPerson.height)}\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Mass\n                  </div>\n                  <div>\n                    {selectedPerson.mass}\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Hair color\n                  </div>\n                  <div>\n                    {selectedPerson.hair_color}\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Gender\n                  </div>\n                  <div>\n                    {selectedPerson.gender}\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Birth Year\n                  </div>\n                  <div>\n                    {selectedPerson.birth_year}\n                  </div>\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Homeworld\n                  </div>\n                  <Homeworld homeworld={selectedPerson.homeworld} />\n                </div>\n                <div className='personAttribute'>\n                  <div className='attributeTitle'>\n                    Films\n                  </div>\n                  <Films films={selectedPerson.films} />\n                </div>\n              </div>\n            ) : (\n              <div>\n                No one selected\n              </div>\n            )\n          }\n        </div>\n      </Scoped>\n    )\n  }\n\n  formatHeight = (heightInCm) => {\n    return `${heightInCm}cm (${heightInCm * 0.0328084}ft)`\n  }\n}\n","import React, {Fragment} from 'react'\nimport AsyncDecorator from 'async-decorator/rx6'\nimport { Scoped } from 'kremling'\nimport queryString from 'query-string'\nimport { find } from 'lodash'\nimport { getPeople } from '../utils/api.js'\nimport styles from './people-page.krem.css'\nimport PeopleList from '../people-list/people-list.component.js'\nimport SelectedPerson from './selected-person/selected-person.component.js'\n\n@AsyncDecorator\nexport default class PeoplePage extends React.Component {\n\n  state = {\n    pageNum: 1,\n    nextPage: true,\n    loadingPeople: false,\n    selectedPerson: undefined,\n    people: [],\n  }\n\n  componentDidMount() {\n    this.fetchPeople(this.state.pageNum)\n    this.selectPersonFromQueryParams()\n  }\n\n  render () {\n    const { nextPage, loadingPeople, people, selectedPerson} = this.state\n    return (\n      <Scoped postcss={styles}>\n        <div className='peoplePage'>\n          <div className='peoplePageContents'>\n            <div className='listWrapper'>\n              {\n                nextPage ? (\n                  <button\n                    className='brand-button margin-bottom-16'\n                    onClick={this.fetchMore}\n                    disabled={!this.state.nextPage || this.state.loadingPeople}\n                  >\n                    Fetch More people\n                  </button>\n                ) : null\n              }\n              {\n                this.state.loadingPeople && people.length === 0 ? (\n                  <div>\n                    Loading ...\n                  </div>\n                ) : (\n                  <PeopleList\n                    people={people}\n                    loadingPeople={loadingPeople}\n                    selectPerson={this.selectPerson}\n                  />\n                )\n              }\n            </div>\n            <div className='selectedWrapper'>\n              <div className='selectedPerson'>\n                <SelectedPerson\n                  selectedPerson={selectedPerson}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Scoped>\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.location.search !== prevProps.location.search) {\n      this.selectPersonFromQueryParams()\n    }\n  }\n\n  selectPersonFromQueryParams = () => {\n    const search = this.props.location.search\n    const parsed = queryString.parse(search)\n    if (\n      (this.state.selectedPerson === undefined && parsed.selected !== undefined) || \n      (this.state.selectedPerson && parsed && parsed.selected !== this.state.selectedPerson.id)\n    ) {\n      this.setState(prev => {\n        const found = find(prev.people, (person) => person.id === parsed.selected)\n        if (found !== undefined) {\n          return {selectedPerson: found}\n        } else {\n          return null\n        }\n      })\n    }\n  }\n\n  selectPerson = (arrayIndex) => {\n    this.setState(prev => {\n      if (arrayIndex !== undefined) {\n        return {\n          selectedPerson: prev.people[arrayIndex]\n        }\n      } else {\n        return null\n      }\n    })\n  }\n\n  fetchMore = () => {\n    if (this.state.nextPage) {\n      this.setState(prev => {\n        return {\n          pageNum: prev.pageNum + 1\n        }\n      }, () => {\n        this.fetchPeople(this.state.pageNum)\n      })\n    }\n  }\n\n  fetchPeople = (pageNum = 1) => {\n    if (this.state.nextPage) {\n      this.setState({loadingPeople: true}, () => {\n        this.props.cancelWhenUnmounted(\n          getPeople(pageNum).subscribe(\n            (results) => {\n              this.setState(prev => {\n                const people = [...prev.people, ...results.results]\n                const nextPage = !!results.next\n                return {people, nextPage, loadingPeople: false}\n              }, this.selectPersonFromQueryParams)\n            },\n            (err => {\n              console.log('err', err)\n            })\n          )\n        )\n      })\n    }\n  }\n}\n"],"sourceRoot":""}