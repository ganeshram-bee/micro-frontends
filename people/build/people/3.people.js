(window.webpackJsonppeople=window.webpackJsonppeople||[]).push([[3],{29:function(e,t){e.exports={styles:'[people="2"] .peoplePageContents,[people="2"].peoplePageContents { display: flex; } [people="2"] .listWrapper,[people="2"].listWrapper { padding: 24px; width: 30%; } [people="2"] .selectedWrapper,[people="2"].selectedWrapper { width: 70%; border-left: 2px solid var(--white); padding: 24px; } [people="2"] .peoplePage,[people="2"].peoplePage { height: calc(100% - var(--navbar-height)); } ',id:"2",namespace:"people"}},30:function(e,t){e.exports={styles:'[people="1"] .person,[people="1"].person { height: 50px; display: flex; align-items: center; border-bottom: 1px solid var(--white); cursor: pointer; text-decoration: none; color: var(--white); } [people="1"] .person:last-child,[people="1"].person:last-child { border-bottom: none; } [people="1"] .person:first-child,[people="1"].person:first-child { border-top: 1px solid var(--white); } ',id:"1",namespace:"people"}},31:function(e,t){e.exports={styles:'[people="3"] .personAttribute,[people="3"].personAttribute { display: flex; } [people="3"] .attributeTitle,[people="3"].attributeTitle { font-weight: bold; padding-right: 16px; width: 150px; } ',id:"3",namespace:"people"}},32:function(e,t){e.exports={styles:'[people="4"] .films,[people="4"].films { display: flex; flex-wrap: wrap; } [people="4"] .film,[people="4"].film { width: 216px; height: 384px; margin: 0 8px; display: flex; align-items: center; justify-content: center; position: relative; } [people="4"] .filmPoster,[people="4"].filmPoster { max-width: 100%; max-height: 100%; } [people="4"] .filmOverlay,[people="4"].filmOverlay { position: absolute; display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; background-color: var(--white-overlay); border-radius: 25px; color: var(--black); } ',id:"4",namespace:"people"}},33:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(22),i=n.n(a),l=n(21),c=n(24),u=n.n(c),s=n(8),p=n(25),f=n.n(p);var m,y=n(29),d=n.n(y),b=n(30),h=n.n(b),v=n(36),g=n(37);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j,N=Object(v.a)(m=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(P(P(n=function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}(this,(e=O(t)).call.apply(e,[this].concat(o))))),"onKeyPress",function(e,t){"Enter"!==e.key&&" "!==e.key||n.props.selectPerson(t)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.Component),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.people,a=t.loadingPeople;t.selectPerson;return o.a.createElement(l.Scoped,{postcss:h.a},o.a.createElement("div",{className:"peopleList"},o.a.createElement(r.Fragment,null,n.map(function(t,n){return o.a.createElement(g.a,{key:t.name,className:"person",to:"".concat(e.props.match.path,"?selected=").concat(window.encodeURIComponent(t.id))},t.name)}),a&&o.a.createElement("div",null,"Loading ..."))))}}]),t}())||m,S=n(31),M=n.n(S),T=n(12);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C=T.operators.flatMap,X=T.operators.tap,Y=i()(j=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(V(V(n=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?V(e):t}(this,(e=A(t)).call.apply(e,[this].concat(o))))),"state",{homeworld:void 0,error:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,o.a.Component),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.cancelWhenUnmounted(this.props.stream(function(e){return e.homeworld}).pipe(X(function(){e.setState({homeworld:void 0})}),C(function(e){return function(e){return f()("planets/".concat(e,"/"))}(e.match(/[0-9]+/))})).subscribe(function(t){return e.setState({homeworld:t})},function(t){return e.setState({error:!0},function(){console.error(t)})}))}},{key:"render",value:function(){var e=this.state,t=e.homeworld,n=e.error;return o.a.createElement("div",{className:"homeworld"},n&&o.a.createElement("div",null,"Error Loading"),void 0===t&&!n&&o.a.createElement("div",null,"... Loading"),t&&o.a.createElement(g.a,{className:"brand-link",to:"/planets/".concat(t.id)},t.name))}}]),t}())||j,B=n(32),D=n.n(B),L={1:"https://m.media-amazon.com/images/M/MV5BYTRhNjcwNWQtMGJmMi00NmQyLWE2YzItODVmMTdjNWI0ZDA2XkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY999_SX666_AL_.jpg",2:"https://m.media-amazon.com/images/M/MV5BMDAzM2M0Y2UtZjRmZi00MzVlLTg4MjEtOTE3NzU5ZDVlMTU5XkEyXkFqcGdeQXVyNDUyOTg3Njg@._V1_SY999_CR0,0,659,999_AL_.jpg",3:"https://m.media-amazon.com/images/M/MV5BNTc4MTc3NTQ5OF5BMl5BanBnXkFtZTcwOTg0NjI4NA@@._V1_SY1000_SX750_AL_.jpg",4:"https://m.media-amazon.com/images/M/MV5BNzVlY2MwMjktM2E4OS00Y2Y3LWE3ZjctYzhkZGM3YzA1ZWM2XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",5:"https://m.media-amazon.com/images/M/MV5BYmU1NDRjNDgtMzhiMi00NjZmLTg5NGItZDNiZjU5NTU4OTE0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,641,1000_AL_.jpg",6:"https://m.media-amazon.com/images/M/MV5BOWZlMjFiYzgtMTUzNC00Y2IzLTk1NTMtZmNhMTczNTk0ODk1XkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY999_CR0,0,644,999_AL_.jpg",7:"https://m.media-amazon.com/images/M/MV5BOTAzODEzNDAzMl5BMl5BanBnXkFtZTgwMDU1MTgzNzE@._V1_SY1000_CR0,0,677,1000_AL_.jpg",8:"https://m.media-amazon.com/images/M/MV5BMjQ1MzcxNjg4N15BMl5BanBnXkFtZTgwNzgwMjY4MzI@._V1_SY1000_CR0,0,675,1000_AL_.jpg"};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I,G=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return U(Z(Z(n=function(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?Z(e):t}(this,(e=R(t)).call.apply(e,[this].concat(o))))),"state",{showOverlay:!1}),U(Z(Z(n)),"mouseOn",function(){n.setState({showOverlay:!0})}),U(Z(Z(n)),"mouseOut",function(){n.setState({showOverlay:!1})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o.a.Component),function(e,t,n){t&&Q(e.prototype,t),n&&Q(e,n)}(t,[{key:"render",value:function(){var e=this.props.film;return o.a.createElement("div",{className:"film",onMouseEnter:this.mouseOn,onMouseLeave:this.mouseOut,tabIndex:0},o.a.createElement("img",{className:"filmPoster",src:L[e.episode_id],alt:e.title}),this.state.showOverlay&&o.a.createElement("div",{className:"filmOverlay"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",null,"Directed By"),o.a.createElement("div",null,e.director)),o.a.createElement("div",null,o.a.createElement("div",null,"Released on"),o.a.createElement("div",null,e.release_date)),o.a.createElement("div",null,o.a.createElement("div",null,"Produced by"),o.a.createElement("div",null,e.producer)))))}}]),t}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var te=T.operators.tap,ne=T.operators.mergeMap,re=T.operators.switchMap,oe=i()(I=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ee(ee(n=function(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?ee(e):t}(this,(e=K(t)).call.apply(e,[this].concat(o))))),"state",{films:[],error:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,o.a.Component),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.cancelWhenUnmounted(this.props.stream(function(e){return e.films}).pipe(re(function(e){return Object(T.from)(e)}),te(function(){return e.setState({films:[]})}),ne(function(e){return function(e){return f()("films/".concat(e))}(e.match(/[0-9]+/))})).subscribe(function(t){e.setState(function(e){return{films:H(e.films).concat([t])}})},function(t){return e.setState({error:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.films,n=e.error;return o.a.createElement(l.Scoped,{postcss:D.a},o.a.createElement("div",{className:"films"},n&&o.a.createElement("div",null,"Error"),t.length!==this.props.films.length&&!n&&o.a.createElement("div",null,"... Loading"),t.length===this.props.films.length&&!n&&o.a.createElement(r.Fragment,null,t.map(function(e){return o.a.createElement(G,{key:e.episode_id,film:e})}))))}}]),t}())||I;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var se,pe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ue(ue(n=function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?ue(e):t}(this,(e=le(t)).call.apply(e,[this].concat(o))))),"formatHeight",function(e){return"".concat(e,"cm (").concat(.0328084*e,"ft)")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,o.a.Component),function(e,t,n){t&&ie(e.prototype,t),n&&ie(e,n)}(t,[{key:"render",value:function(){var e=this.props.selectedPerson;return o.a.createElement(l.Scoped,{postcss:M.a},o.a.createElement("div",{className:"selectedPerson"},void 0!==e?o.a.createElement("div",null,o.a.createElement("div",{className:"personName"},o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Name"),o.a.createElement("div",null,e.name))),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"height"),o.a.createElement("div",null,this.formatHeight(e.height))),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Mass"),o.a.createElement("div",null,e.mass)),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Hair color"),o.a.createElement("div",null,e.hair_color)),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Gender"),o.a.createElement("div",null,e.gender)),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Birth Year"),o.a.createElement("div",null,e.birth_year)),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Homeworld"),o.a.createElement(Y,{homeworld:e.homeworld})),o.a.createElement("div",{className:"personAttribute"},o.a.createElement("div",{className:"attributeTitle"},"Films"),o.a.createElement(oe,{films:e.films}))):o.a.createElement("div",null,"No one selected")))}}]),t}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return ge});var ge=i()(se=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return ve(he(he(n=function(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?he(e):t}(this,(e=de(t)).call.apply(e,[this].concat(o))))),"state",{pageNum:1,nextPage:!0,loadingPeople:!1,selectedPerson:void 0,people:[]}),ve(he(he(n)),"selectPersonFromQueryParams",function(){var e=n.props.location.search,t=u.a.parse(e);(void 0===n.state.selectedPerson&&void 0!==t.selected||n.state.selectedPerson&&t&&t.selected!==n.state.selectedPerson.id)&&n.setState(function(e){var n=Object(s.find)(e.people,function(e){return e.id===t.selected});return void 0!==n?{selectedPerson:n}:null})}),ve(he(he(n)),"selectPerson",function(e){n.setState(function(t){return void 0!==e?{selectedPerson:t.people[e]}:null})}),ve(he(he(n)),"fetchMore",function(){n.state.nextPage&&n.setState(function(e){return{pageNum:e.pageNum+1}},function(){n.fetchPeople(n.state.pageNum)})}),ve(he(he(n)),"fetchPeople",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.state.nextPage&&n.setState({loadingPeople:!0},function(){n.props.cancelWhenUnmounted(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f()("people/?page=".concat(e))}(e).subscribe(function(e){n.setState(function(t){return{people:me(t.people).concat(me(e.results)),nextPage:!!e.next,loadingPeople:!1}},n.selectPersonFromQueryParams)},function(e){console.log("err",e)}))})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,o.a.Component),function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchPeople(this.state.pageNum),this.selectPersonFromQueryParams()}},{key:"render",value:function(){var e=this.state,t=e.nextPage,n=e.loadingPeople,r=e.people,a=e.selectedPerson;return o.a.createElement(l.Scoped,{postcss:d.a},o.a.createElement("div",{className:"peoplePage"},o.a.createElement("div",{className:"peoplePageContents"},o.a.createElement("div",{className:"listWrapper"},t?o.a.createElement("button",{className:"brand-button margin-bottom-16",onClick:this.fetchMore,disabled:!this.state.nextPage||this.state.loadingPeople},"Fetch More people"):null,this.state.loadingPeople&&0===r.length?o.a.createElement("div",null,"Loading ..."):o.a.createElement(N,{people:r,loadingPeople:n,selectPerson:this.selectPerson})),o.a.createElement("div",{className:"selectedWrapper"},o.a.createElement("div",{className:"selectedPerson"},o.a.createElement(pe,{selectedPerson:a}))))))}},{key:"componentDidUpdate",value:function(e,t){this.props.location.search!==e.location.search&&this.selectPersonFromQueryParams()}}]),t}())||se}}]);
//# sourceMappingURL=3.people.js.map